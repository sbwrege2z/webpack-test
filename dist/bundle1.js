!function(t){var e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=1)}([function(t,e,r){"use strict";r.r(e),r.d(e,"Router",(function(){return u})),r.d(e,"UrlPattern",(function(){return o}));
/*!
 * service-worker-router v1.7.5 by berstend
 * https://github.com/berstend/service-worker-router#readme
 * @license MIT
 */
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var n=function(){return(n=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(t[a]=e[a]);return t}).apply(this,arguments)},a="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};var o=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){var r,n,o=[].slice;r=a,n=function(){var t,e,r,n,a,i,u,s,l,c,h,f,d,p,g;return l=function(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")},u=function(t,e){var r,n,a;for(a=[],r=-1,n=t.length;++r<n;)a=a.concat(e(t[r]));return a},p=function(t,e){var r,n,a;for(a="",r=-1,n=t.length;++r<n;)a+=e(t[r]);return a},d=function(t){return new RegExp(t.toString()+"|").exec("").length-1},h=function(t,e){var r,n,a,o,i;for(o={},r=-1,a=t.length;++r<a;)n=t[r],null!=(i=e[r])&&(null!=o[n]?(Array.isArray(o[n])||(o[n]=[o[n]]),o[n].push(i)):o[n]=i);return o},(t={}).Result=function(t,e){this.value=t,this.rest=e},t.Tagged=function(t,e){this.tag=t,this.value=e},t.tag=function(e,r){return function(n){var a,o;if(null!=(a=r(n)))return o=new t.Tagged(e,a.value),new t.Result(o,a.rest)}},t.regex=function(e){return function(r){var n,a;if(null!=(n=e.exec(r)))return a=n[0],new t.Result(a,r.slice(a.length))}},t.sequence=function(){var e;return e=1<=arguments.length?o.call(arguments,0):[],function(r){var n,a,o,i,u;for(n=-1,a=e.length,u=[],o=r;++n<a;){if(null==(i=(0,e[n])(o)))return;u.push(i.value),o=i.rest}return new t.Result(u,o)}},t.pick=function(){var e,r;return e=arguments[0],r=2<=arguments.length?o.call(arguments,1):[],function(n){var a,o;if(null!=(o=t.sequence.apply(t,r)(n)))return a=o.value,o.value=a[e],o}},t.string=function(e){var r;return r=e.length,function(n){if(n.slice(0,r)===e)return new t.Result(e,n.slice(r))}},t.lazy=function(t){var e;return e=null,function(r){return null==e&&(e=t()),e(r)}},t.baseMany=function(e,r,n,a,o){var i,u,s;for(u=o,s=n?"":[];(null==r||null==r(u))&&null!=(i=e(u));)n?s+=i.value:s.push(i.value),u=i.rest;if(!a||0!==s.length)return new t.Result(s,u)},t.many1=function(e){return function(r){return t.baseMany(e,null,!1,!0,r)}},t.concatMany1Till=function(e,r){return function(n){return t.baseMany(e,r,!0,!0,n)}},t.firstChoice=function(){var t;return t=1<=arguments.length?o.call(arguments,0):[],function(e){var r,n,a;for(r=-1,n=t.length;++r<n;)if(null!=(a=(0,t[r])(e)))return a}},f=function(e){var r;return(r={}).wildcard=t.tag("wildcard",t.string(e.wildcardChar)),r.optional=t.tag("optional",t.pick(1,t.string(e.optionalSegmentStartChar),t.lazy((function(){return r.pattern})),t.string(e.optionalSegmentEndChar))),r.name=t.regex(new RegExp("^["+e.segmentNameCharset+"]+")),r.named=t.tag("named",t.pick(1,t.string(e.segmentNameStartChar),t.lazy((function(){return r.name})))),r.escapedChar=t.pick(1,t.string(e.escapeChar),t.regex(/^./)),r.static=t.tag("static",t.concatMany1Till(t.firstChoice(t.lazy((function(){return r.escapedChar})),t.regex(/^./)),t.firstChoice(t.string(e.segmentNameStartChar),t.string(e.optionalSegmentStartChar),t.string(e.optionalSegmentEndChar),r.wildcard))),r.token=t.lazy((function(){return t.firstChoice(r.wildcard,r.optional,r.named,r.static)})),r.pattern=t.many1(t.lazy((function(){return r.token}))),r},s={escapeChar:"\\",segmentNameStartChar:":",segmentValueCharset:"a-zA-Z0-9-_~ %",segmentNameCharset:"a-zA-Z0-9",optionalSegmentStartChar:"(",optionalSegmentEndChar:")",wildcardChar:"*"},i=function(t,e){if(Array.isArray(t))return p(t,(function(t){return i(t,e)}));switch(t.tag){case"wildcard":return"(.*?)";case"named":return"(["+e+"]+)";case"static":return l(t.value);case"optional":return"(?:"+i(t.value,e)+")?"}},a=function(t,e){return null==e&&(e=s.segmentValueCharset),"^"+i(t,e)+"$"},n=function(t){if(Array.isArray(t))return u(t,n);switch(t.tag){case"wildcard":return["_"];case"named":return[t.value];case"static":return[];case"optional":return n(t.value)}},c=function(t,e,r,n){var a,o,i;if(null==n&&(n=!1),null!=(i=t[e])){if(!((a=r[e]||0)>(Array.isArray(i)?i.length-1:0)))return o=Array.isArray(i)?i[a]:i,n&&(r[e]=a+1),o;if(n)throw new Error("too few values provided for key `"+e+"`")}else if(n)throw new Error("no values provided for key `"+e+"`")},r=function(t,e,n){var a,o;if(Array.isArray(t)){for(a=-1,o=t.length;++a<o;)if(r(t[a],e,n))return!0;return!1}switch(t.tag){case"wildcard":return null!=c(e,"_",n,!1);case"named":return null!=c(e,t.value,n,!1);case"static":return!1;case"optional":return r(t.value,e,n)}},g=function(t,e,n){if(Array.isArray(t))return p(t,(function(t){return g(t,e,n)}));switch(t.tag){case"wildcard":return c(e,"_",n,!0);case"named":return c(e,t.value,n,!0);case"static":return t.value;case"optional":return r(t.value,e,n)?g(t.value,e,n):""}},(e=function(t,r){var o,i,u;if(t instanceof e)return this.isRegex=t.isRegex,this.regex=t.regex,this.ast=t.ast,void(this.names=t.names);if(this.isRegex=t instanceof RegExp,"string"!=typeof t&&!this.isRegex)throw new TypeError("argument must be a regex or a string");if(this.isRegex){if(this.regex=t,null!=r){if(!Array.isArray(r))throw new Error("if first argument is a regex the second argument may be an array of group names but you provided something else");if(o=d(this.regex),r.length!==o)throw new Error("regex contains "+o+" groups but array of group names contains "+r.length);this.names=r}}else{if(""===t)throw new Error("argument must not be the empty string");if(t.replace(/\s+/g,"")!==t)throw new Error("argument must not contain whitespace");if(i={escapeChar:(null!=r?r.escapeChar:void 0)||s.escapeChar,segmentNameStartChar:(null!=r?r.segmentNameStartChar:void 0)||s.segmentNameStartChar,segmentNameCharset:(null!=r?r.segmentNameCharset:void 0)||s.segmentNameCharset,segmentValueCharset:(null!=r?r.segmentValueCharset:void 0)||s.segmentValueCharset,optionalSegmentStartChar:(null!=r?r.optionalSegmentStartChar:void 0)||s.optionalSegmentStartChar,optionalSegmentEndChar:(null!=r?r.optionalSegmentEndChar:void 0)||s.optionalSegmentEndChar,wildcardChar:(null!=r?r.wildcardChar:void 0)||s.wildcardChar},null==(u=f(i).pattern(t)))throw new Error("couldn't parse pattern");if(""!==u.rest)throw new Error("could only partially parse pattern");this.ast=u.value,this.regex=new RegExp(a(this.ast,i.segmentValueCharset)),this.names=n(this.ast)}}).prototype.match=function(t){var e,r;return null==(r=this.regex.exec(t))?null:(e=r.slice(1),this.names?h(this.names,e):e)},e.prototype.stringify=function(t){if(null==t&&(t={}),this.isRegex)throw new Error("can't stringify patterns generated from a regex");if(t!==Object(t))throw new Error("argument must be an object or undefined");return g(this.ast,t,{})},e.escapeForRegex=l,e.concatMap=u,e.stringConcatMap=p,e.regexGroupCount=d,e.keysAndValuesToObject=h,e.P=t,e.newParser=f,e.defaultOptions=s,e.astNodeToRegexString=a,e.astNodeToNames=n,e.getParam=c,e.astNodeContainsSegmentsForProvidedParams=r,e.stringify=g,e},null!==e?t.exports=n():r.UrlPattern=n()})),i={segmentNameCharset:"a-zA-Z0-9_-",segmentValueCharset:"a-zA-Z0-9@.+-_"},u=function(){function t(){this.routes=[]}return t.prototype.all=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:""}))},t.prototype.get=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"GET"}))},t.prototype.post=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"POST"}))},t.prototype.put=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"PUT"}))},t.prototype.patch=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"PATCH"}))},t.prototype.delete=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"DELETE"}))},t.prototype.head=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"HEAD"}))},t.prototype.options=function(t,e,r){return void 0===r&&(r={}),this.addRoute(t,e,n(n({},r),{method:"OPTIONS"}))},t.prototype.addRoute=function(t,e,r){return void 0===r&&(r={}),t instanceof o||(t=new o(t,i)),this.routes.push({pattern:t,handler:e,options:r}),this},t.prototype.match=function(t,e){t instanceof URL||(t=t.startsWith("/")?new URL("http://domain"+t):new URL(t));for(var r=0,n=this.routes;r<n.length;r++){var a=n[r],o=a.pattern,i=a.options,u=a.handler;if(!i.method||i.method===e){var s=o.match(i.matchUrl?t.href:t.pathname);if(s)return{params:s,handler:u,url:t,method:e,route:a,ctx:this.ctx}}}return null},t.prototype.matchRequest=function(t){return this.match(t.url,t.method)},t.prototype.matchEvent=function(t){return this.matchRequest(t.request)},t.prototype.handle=function(t,e){var r=this.match(t,e);if(!r)return null;var a=n({},r);return{handlerPromise:r.handler(a),match:a}},t.prototype.handleRequest=function(t){var e=this.matchRequest(t);if(!e)return null;var r=n(n({},e),{request:t});return{handlerPromise:e.handler(r),match:r}},t.prototype.handleEvent=function(t){var e=t.request,r=this.matchRequest(e);if(!r)return null;var a=n(n({},r),{request:e,event:t}),o=r.handler(a);return t.respondWith(o),{handlerPromise:o,match:a}},t.prototype.clear=function(){this.routes.length=0},t}()},function(t,e,r){const n=r(0).UrlPattern,a=new(0,r(0).Router);let o=new n(/^\/api\/(.*)$/);console.log(JSON.stringify(o.match("/api/test"))),console.log(JSON.stringify(o.match("/apiii/test"))),a.get("/api/*",null),a.get(o,null),console.log("Hello world!")}]);